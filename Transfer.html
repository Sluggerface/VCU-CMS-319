<!doctype html>
<html>

	<head> 
	<h2><center> VCU Transfer Guide</center> </h2>
	 <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
     <link rel="stylesheet" href="main.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

 <style type="text/css">
 	
 	textarea
 	{
 		height: 300px;
 	}
 	.sem{
 		height: 418px;
 		width: 45%;
 	}
 	.courseReq{
 		height: 200px;
 		width: 100%;
 	}
 	.inputW
 	{
 		width: 30%
 	}
 </style>
	
	</head>
 <body>
 	
  <div class="container-fluid"> 

       
        <div class="row">

        <div class="col-md-2" style="background-color: #F1C40F">

      			  <h4> Step 1) Please enter VCU classes </h4>
      			  <select id="CRN">
   						 <option>CMSC</option>
   						 <option>EE</option>
   						 <option>NUKE</option>
   						 <option>MATH</option>

  				   </select>
       			   <input type="text" id="course" class="inputW"></input> 

           		   <button id= "classBox" onclick="getInput()"> Enter cass + </button>
           		   <button id= "remove" onclick="removeClass()"> Remove - </button>

           		   <div > 
           		   		 <h4>Your classes  </h4>
           		   		<textarea id="box"></textarea>

					</div>      

					 <button type="button" onclick="submit()"> Submit </button>
        </div>

         <div class="col-md-5" style="background-color: #99CCFF">
            	<h2>Your Schedule </h2>
            	<textarea id="scheduleArea" class="sem"> </textarea>
            	<select id="scheduledRemoval"></select>
            	<button id= "removeSchedule" onclick="removeScheduledClass()"> Remove Scheduled Class</button>
            	
            	 <footer> 
   		<footer align="center" >
     	<p><Strong>Disclaimer:</Strong></p>
  		<p>Only classes with a grade of C or better will be able to transfer.</p>
  		<p>For more assistance, please contact a VCU transfer advisor: <a href="http://www.transfer.vcu.edu/about-us/contact.html">Transfer Advisor Contact Info</a>
  </footer>
         </div>
         
            <div class="col-md-5" style="background-color: #F1C40F">

				<h4> Step 2) Select what semester you are scheduling classes for. </h4>
            <select id="semesterNumber">
            <option>Fall 1</option>
            <option>Spring 2</option>
            <option>Fall 2</option>
            <option>Spring 3</option>
            <option>Fall 3</option>
            <option>Spring 4</option>
            <option>Fall 4</option>
            <option>Spring 5</option>
            <option>Fall 5</option>
            <option>Spring 6</option>
            <option>Fall 6</option>
            <option>Spring 7</option>
            <option>Fall 7</option>
            <option>Spring 8</option>
            <option>Fall 8</option>
            <option>Spring 9</option>
            </select>

            	<h4> Step 3) Pick your Major </h4>
            	 <select id="mySelect">
 					 <option value="CS">Computer</option>
  					 <option value="EE">Electrical</option>
 					 <option value="NE">Nuclear</option>
 				 </select>
 				 	<button type="button" onclick="myFunction()"> Select Major</button>

 						<div>
  							
  							<h4>Degree Dequirements </h4>
  							<textarea id="core" class="courseReq"> </textarea>
  						</div>

 				 		<div>

 				 		<h4> Step 4) Schedule Class </h4>
  						<select id="selectNumber">
   						 <option> Major classes</option>
  						</select>

  						<button type="button" onclick="scheduleClass()"> Schedule Class </button>

  						<button type="button" onclick="getEligible()">Lock Semester </button>
  						</div>

            </div>
        </div>

    </div> 

	 <script>
	 			
	 	    //global arrays
			
			var CS=[];
			var EE=[];
			var NE=[];
			var transferIn=[];
			var classArray=[];
			var completedCourses=[];
			var scheduledCourses=[];
		    var select = document.getElementById("selectNumber");

			//end global arrays
			
			var EC= {Course: "ECON205", Credits: "3", core: "false", spring:"true", fall:"false", pre:[]};
			//Core
			var M1= {Course: "MATH200", Credits: "4", core: "true", spring:"true", fall:"false", pre:[]};
			var M2= {Course: "MATH201", Credits: "4", core: "true", spring:"true", fall:"false", pre:["MATH200"]};

			var M3= {Course: "MATHEL1", Credits: "3", core: "true", spring:"true", fall:"false", pre:[]};	
			var M4= {Course: "MATHEL2", Credits: "3", core: "true", spring:"true", fall:"false", pre:[]};

			var a= {Course: "CMSC508", Credits: "3", core: "true", spring:"false", fall:"true", pre:["CMSC401"]};
			var b= {Course: "CMSC255", Credits: "4", core: "true", spring:"true", fall:"true", pre:[]};
			var c= {Course: "CMSC256", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC255"]};
			var d= {Course: "CMSC257", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC256"]};
			var e= {Course: "CMSC302", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC255"]};
			var f= {Course: "CMSC303", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC302"]};
			var g= {Course: "CMSC311", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC302", "CMSC257"]};
			var h= {Course: "CMSC312", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC302", "CMSC311"]};
			var i= {Course: "CMSC355", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC256"]};
			var j= {Course: "CMSC401", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC256", "CMSC302"]};
			var k= {Course: "CMSC403", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC256", "CMSC303"]};
			var l= {Course: "CMSC451", Credits: "3", core: "true", spring:"false", fall:"true", pre:["CMSC256", "CMSC355"]};
			var m= {Course: "CMSC452", Credits: "3", core: "true", spring:"true", fall:"false", pre:["CMSC451"]};
			

			var e1= {Course: "CMSCElective1", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC401", "CMSC355"]};
			var e2= {Course: "CMSCElective2", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC401"]};
			var e3= {Course: "CMSCElective3", Credits: "3", core: "true", spring:"true", fall:"true", pre:["CMSC401"]};

		    var science1a= {Course: "Science1A", Credits: "4", core: "true", spring:"true", fall:"true", pre:[]};
			var science1b= {Course: "Science1B", Credits: "4", core: "true", spring:"true", fall:"true", pre:["Science1A"]};

			var science2a= {Course: "Science2A", Credits: "4", core: "true", spring:"true", fall:"true", pre:[]};
			var science2b= {Course: "Science2B", Credits: "4", core: "true", spring:"true", fall:"true", pre:["Science2A"]};

			var humanities1= {Course: "humanities1", Credits: "4", core: "true", spring:"true", fall:"true", pre:[]};
			var humanities2= {Course: "humanities2", Credits: "4", core: "true", spring:"true", fall:"true", pre:[]};

			CS.push(a);
			CS.push(b);
			CS.push(c);
			CS.push(d);
			
			CS.push(e);
			CS.push(f);
			CS.push(g);
			CS.push(h);
			CS.push(i);
			CS.push(j);
			CS.push(k);
			CS.push(l);
			CS.push(m);
			
			CS.push(e1);
			CS.push(e2);
			CS.push(e3);

			CS.push(humanities1);
			CS.push(humanities2);

			CS.push(science1a);
			CS.push(science1b);
			CS.push(science2a);
			CS.push(science2b);

			CS.push(M1);
			CS.push(M2);
			CS.push(M3);
			CS.push(M4);

			CS.push(EC);



			scheduledCourses.push(["Fall 1"]);
			scheduledCourses.push(["Spring 2"]);
			scheduledCourses.push(["Fall 2"]);
			scheduledCourses.push(["Spring 3"]);
			scheduledCourses.push(["Fall 3"]);
			scheduledCourses.push(["Spring 4"]);
			scheduledCourses.push(["Fall 4"]);
			scheduledCourses.push(["Spring 5"]);
			scheduledCourses.push(["Fall 5"]);
			scheduledCourses.push(["Spring 6"]);
			scheduledCourses.push(["Fall 6"]);
			scheduledCourses.push(["Spring 7"]);
			scheduledCourses.push(["Fall 7"]);
			scheduledCourses.push(["Spring 8"]);
			scheduledCourses.push(["Fall 8"]);
			scheduledCourses.push(["Spring 9"]);

			print();


	 	function myFunction()
 			{	
 			var x = document.getElementById("mySelect").selectedIndex;
            
 			// instead of using major array, we can copy whaterver major is selected to the classArray		
 				
 			
 				if (x==0)
 				{
 				classArray.push.apply(classArray, CS);
 				}
 				else if (x==1)
 				{
 					classArray.push.apply(classArray, EE);
 				} 		
 				else if(x==2)
 				{
 					// selected Nuclear
 					classArray.push.apply(classArray, NE);
 				}	

 				// populate the drop down with classes for the selected major
				select.length = 0 ;
				getEligible();
				print();
 			 }

 			 function getInput()
 				 {	
	 	
					var CRN=document.getElementById('CRN').value;
 					var text = document.getElementById('course').value;
 					text=CRN+text;
 					addClass(text)
 		 		 }

 			 function addClass(c)
				{
					transferIn.push(c);
					print();
					
					
				}
	 
				 function removeClass()
 				{	
 					for(i = 0; i < completedCourses.length; i++){
 						var x = transferIn.length - 1;
 						if (transferIn[x] == completedCourses[i].Course){
 							classArray.push(completedCourses[i]);
 							completedCourses.splice(i, 1);

 						}
 					}
 					transferIn.pop();
 					print();
 				    getEligible();
 		 		 }

 		 		  function print()
 		 		  {
 		 				 var content="";
 		 				 document.getElementById("box").innerHTML = content; 
 		 				  
			 			for (var i=0; i<transferIn.length; i++)	
						 {		 	
			 			content+= transferIn[i] + "&nbsp" +"\n";	
						 }	
						document.getElementById("box").innerHTML = content; 
						content="";	  
			 			for (var i=0; i< classArray.length; i++)	
						 {		 	
			 			content+= "CRN: "+ classArray[i].Course + "--- Credits: " + classArray[i].Credits+  "--- Semester: " + classArray[i].Semester+ "&nbsp" +"\n";	
						 }	
					    document.getElementById("core").innerHTML = content; 
						content="";  
			 			for (var i=0; i<scheduledCourses.length; i++)	
						 {		 	
			 			content+= "===== " + scheduledCourses[i][0] + " =====" + "&nbsp" +"\n";	
			 				for (var j=1; j<scheduledCourses[i].length; j++){
			 					content+= scheduledCourses[i][j].Course + "&nbsp" +"\n";
			 				}
						 }	
						 document.getElementById("scheduleArea").innerHTML = content; 				
 		 		  }

 		 		 function getEligible()
 			 {
 			 	select.length=0;
 			 	var eligible=[];
 			 	var havePre=false;
 			    var preCount=0;
 		        var numPre=0;
 			 	
 		     
 			 	for(var i=0; i<classArray.length;i++)
 			 	{		
 			 	preCount=0;
 			    numPre=0;	
 			 			//classes with no pre requs
 			 	if(classArray[i].pre.length==0)
 			 		{
 			 		eligible.push(classArray[i]);
 			 		}
 			 		
 			 		else
 			 		{
 			 			 
 			 			numPre=classArray[i].pre.length;

 			 			for(var k=0; k<classArray[i].pre.length;k++)
 			 			{
 			 					for(var j=0; j<completedCourses.length;j++)
 			 					{
 			 						if(completedCourses[j].Course==classArray[i].pre[k])
 			 						{
 			 							preCount++;
 			 						}
 			 				
 			 					}	
 			 					
 			 			}

 			 			if(numPre==preCount)
 			 			{
 			 				eligible.push(classArray[i]);
 			 			}
 			 	}
 			 	
 			 }
			
				for(var i = 0; i < eligible.length; i++) 
				{
    			var opt =eligible[i].Course;
   				var el = document.createElement("option");
    			el.textContent = opt;
    			el.value = opt;
    			select.appendChild(el);
    			
				}	
 			 }

 		 		  
 		 		  	 function scheduleClass()
 				{	
 						var CRN=document.getElementById('selectNumber').value;
 						var SEM=document.getElementById('semesterNumber').value;
 						var courseToSchedule;
 						var courseIndex = 0;
 						var semesterIndex = 0;
 						var count = 0;

 						for (i = 0; i < classArray.length; i++){
 							if(CRN == classArray[i].Course){
 								courseToSchedule = classArray[i];
 								courseIndex = i;
 						   }
 						}
 						for (i=0; i < scheduledCourses.length; i++){
 							if(SEM == scheduledCourses[i][0]){
 								semesterIndex = i;
 							}
 						}

 						for (i=1; i < scheduledCourses[semesterIndex].length; i++){
 							count += parseInt(scheduledCourses[semesterIndex][i].Credits);
 						}
 						count += parseInt(courseToSchedule.Credits);
 						if (count > 18){
 							alert("Cannot schedule any more classes for this semester");
 						}
 						 else if (courseToSchedule.pre.length > 0){
 							for (i = 0; i < scheduledCourses.length; i++){
 								for (j = 1; j < scheduledCourses[i].length; j++){

 										var compareSchedule = scheduledCourses[i][j].Course
 										for(k = 0; k < courseToSchedule.pre.length; k++){
 											if (courseToSchedule.pre[k] == compareSchedule){
 												if (semesterIndex <= i)
 												alert("Cannot schedule " + courseToSchedule.Course + " before or at the same time as " + courseToSchedule.pre[k]);
 											}
 										}	
 							        }
 								}
 						}
 						else{
 						 		scheduledCourses[semesterIndex].push(courseToSchedule);
 						 		completedCourses.push(classArray[courseIndex]);
 						 		classArray.splice(courseIndex, 1);
 						 		

 						 		var opt = CRN;
   								var el = document.createElement("option");
    							el.textContent = opt;
    							el.value = opt;
    							scheduledRemoval.appendChild(el);
 		

						        print();
						        select.remove(document.getElementById('selectNumber').selectedIndex);
						    }
 		 		 }

 		 		 function removeScheduledClass(){
 		 		 	var CRN=document.getElementById('scheduledRemoval').value;

 		 		 	for (i=0; i < completedCourses.length; i++){
 		 		 		if (CRN == completedCourses[i].Course){
 		 		 			completedCourses.splice(i, 1);
 		 		 		}
 		 		 	}
 		 		 	for (i=0; i < scheduledCourses.length; i++){
 		 		 		for (j=0; j < scheduledCourses[i].length; j++){
 		 		 			if (CRN == scheduledCourses[i][j].Course){

 		 		 				classArray.push(scheduledCourses[i][j]);
 		 		 				scheduledCourses[i].splice(j, 1);
 		 		 				scheduledRemoval.remove(document.getElementById('scheduledRemoval').selectedIndex);
								
 		 		 				var opt = CRN;
 		 		 				var el = document.createElement("option");
 		 		 				el.textContent = opt;
 		 		 				el.value = opt;
 		 		 				select.appendChild(el);
 		 		 			}
 		 		 		}
 		 		 	}
 		 		 	print();
 		 		 }

 		 		 function submit(){
                                      
                                      		for(var i = 0; i < transferIn.length; i++) 
                                                {
                                                    var course = transferIn[i];
                                                    for(var j = 0; j < classArray.length; j++){
                                                        var check = classArray[j].Course;
                                                        if (course == check){
                                                        	completedCourses.push(classArray[j]);
                                                            classArray.splice(j, 1);
                                                        }
                                                    }

                                                }
                                                print();
                                                getEligible();
                                  }
	 </script>


 </body>


</html>